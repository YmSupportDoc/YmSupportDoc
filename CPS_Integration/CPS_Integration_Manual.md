## CPS Integration Manual

Yeahmobi supports server to server model of CPS integration. According to the revenue share models, we provide 2 solutions:

### Callback with order amount

When each order has a standard revenue share percentage with Yeahmobi, this solution is recommended. Once the order event happened, send a http request to the postback URL with order amount and Yeahmobi will calculate the revenue share in the backend.

URL: <http://yeahmobi-postback-domain/mconv?transaction_id={transaction_id}&event=purchase&order_id={order_id}&order_amount={order_amount}&external_id={external_id}&source={souce_name}>

**All the tokens are required.**
 
Token|Description
--|--
transaction_id|Unique identifier generated by Yeahmobi during click, should be post back during conversion
order_id|Order id by adv, the orders lead by the same click should have the same id;
order_amount|The order amount of the specific order, numeric only and in US dollar by default; For example, order_amount=100, and the shared percentage is 20% configured in the backend, Yeahmobi will calculate the revenue as 100*20%
external_id|Provided by adv, a unique id of the order, each http request should have a unique id
source|Tag of adv, can be adv’s name, used for debugging

### Callback with shared revenue
 
When each order has specific revenue share percentage with Yeahmobi or the revenue share is a specific amount (e.g. $10 per order), we suggest this solution. Once the order event happened, send a http request to the postback URL with the revenue that Yeahmobi is allocated. 

URL: <http://yeahmobi-postback-domain/mconv?transaction_id={transaction_id}&event=purchase&revenue={revenue}&external_id={external_id}&source={souce_name}>

**All the tokens are required.**

Token|Description
--|--
transaction_id|Unique identifier generated by Yeahmobi during click, should be post back during conversion
revenue|For the specific order, the revenue amount that Yeahmobi will be allocated, numeric only and in US dollar by default; For example, revenue=100, Yeahmobi will consider the shared revenue is 100
external_id|Provided by adv, a unique id of the order, each http request should have a unique id
source|Tag of adv, can be adv’s name, used for debugging

**Note: All the postback url format and tokens are the same as live environment, while the domain yeahmobi-postback-domain is sample one. Please contact your account manager for live postback domain.**